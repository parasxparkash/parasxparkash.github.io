<!-- Custom head content -->
<!-- Resource hints for performance -->
<link rel="dns-prefetch" href="//github.com">
<link rel="dns-prefetch" href="//twitter.com">
<link rel="dns-prefetch" href="//linkedin.com">
<link rel="dns-prefetch" href="//ipapi.co">

<!-- Preload critical resources -->
<link rel="preload" href="/assets/profile-optimized.webp" as="image" type="image/webp">
<link rel="preload" href="/assets/medium.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="/assets/medium.css"></noscript>

<!-- Critical CSS for above-the-fold content -->
<style>
    /* Base styles */
    body { 
        margin: 0; 
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
    }
    
    /* Core layout utilities */
    .text-zinc-900 { color: rgb(24 24 27); }
    .dark .text-zinc-100 { color: rgb(244 244 245); }
    .max-w-7xl { max-width: 80rem; }
    .mx-auto { margin-left: auto; margin-right: auto; }
    .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .py-10 { padding-top: 2.5rem; padding-bottom: 2.5rem; }
    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .gap-12 { gap: 3rem; }
    .w-72 { width: 18rem; }
    .flex-shrink-0 { flex-shrink: 0; }
    .sticky { position: sticky; }
    .top-4 { top: 1rem; }
    .h-fit { height: fit-content; }
    .mb-6 { margin-bottom: 1.5rem; }
    .justify-center { justify-content: center; }
    .w-40 { width: 10rem; }
    .h-40 { height: 10rem; }
    .rounded-full { border-radius: 9999px; }
    .object-cover { object-fit: cover; }
    .border-2 { border-width: 2px; }
    .border-zinc-200 { border-color: rgb(228 228 231); }
    .dark .border-zinc-700 { border-color: rgb(63 63 70); }
    
    /* Animation classes */
    .animate-delay-100 { animation-delay: 0.1s; }
    .animate-delay-200 { animation-delay: 0.2s; }
    .animate-delay-300 { animation-delay: 0.3s; }
    .animate-delay-400 { animation-delay: 0.4s; }
    
    .opacity-0 { 
        opacity: 0; 
        will-change: opacity;
    }
    .transform { 
        transform: translateY(20px); 
        will-change: transform;
    }
    .transform-x { 
        transform: translateX(-20px); 
        will-change: transform;
    }
    
    /* Dark mode detection */
    @media (prefers-color-scheme: dark) {
        html:not(.light) {
            color-scheme: dark;
        }
    }

    /* Tab styles */
    .tab-content {
        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    }
    
    .tab-button.active {
        font-weight: bold !important;
        color: rgb(39 39 42) !important;
    }
    
    .dark .tab-button.active {
        color: rgb(244 244 245) !important;
    }
    
    /* Smooth transitions */
    a, button {
        transition: all 0.2s ease-in-out;
    }
    
    /* Scrollbar styling */
    .flex-1.overflow-y-auto {
        scrollbar-width: none;
        -ms-overflow-style: none;
    }
    
    .flex-1.overflow-y-auto::-webkit-scrollbar {
        display: none;
    }
    
    ::-webkit-scrollbar {
        width: 6px;
    }
    
    ::-webkit-scrollbar-track {
        background: transparent;
    }
    
    ::-webkit-scrollbar-thumb {
        background: rgb(161 161 170);
        border-radius: 3px;
    }
    
    .dark ::-webkit-scrollbar-thumb {
        background: rgb(82 82 91);
    }
    
    /* Notes tag styling */
    .note-tag.active {
        background-color: rgb(59 130 246) !important;
        color: white !important;
    }
    
    .dark .note-tag.active {
        background-color: rgb(96 165 250) !important;
        color: white !important;
    }
    
    /* Note item transitions */
    .note-item {
        transition: opacity 0.3s ease, transform 0.3s ease;
    }
    
    /* List item hover effects */
    .tab-content li, .tab-content .space-y-6 > div {
        position: relative;
        transition: all 0.3s ease;
        padding-left: 1rem;
    }
    
    .tab-content li::before, .tab-content .space-y-6 > div::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: rgb(0 0 0);
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .dark .tab-content li::before, .dark .tab-content .space-y-6 > div::before {
        background: rgb(255 255 255);
    }
    
    .tab-content li:hover::before, .tab-content .space-y-6 > div:hover::before {
        opacity: 1;
    }
    
    /* ===== RESPONSIVE DESIGN ===== */
    
    /* Large screens only - Three column layout (1200px+) */
    @media (min-width: 1200px) {
        .flex.gap-12 {
            gap: 3rem;
            flex-direction: row;
        }
        
        .flex.gap-12 > div:first-child {  /* Left sidebar */
            flex: 1;
            max-width: 288px;
        }
        
        .flex.gap-12 > div:nth-child(2) {  /* Center content */
            flex: 2;
            min-width: 576px;
        }
        
        .flex.gap-12 > div:last-child {  /* Right sidebar */
            flex: 1;
            max-width: 288px;
        }
        
        /* Show all elements on desktop */
        #left-sidebar {
            position: sticky !important;
            top: 1rem !important;
            height: fit-content !important;
        }
        
        .flex.gap-12 > div:last-child {
            display: block !important;
            position: sticky !important;
            top: 1rem !important;
            height: fit-content !important;
        }
        
        /* Desktop: Hide mobile elements */
        .md\:hidden {
            display: none !important;
        }
        
        .hidden.md\:block {
            display: block !important;
        }
    }
    
    /* Tablet and Mobile - Single column layout (below 1200px) */
    @media (max-width: 1199px) {
        /* Override the mobile menu toggle and overlay */
        #mobile-menu-toggle {
            display: none !important;
        }
        
        .mobile-overlay {
            display: none !important;
        }
        
        /* Main container adjustments */
        main {
            padding: 1rem !important;
            height: auto !important;
            min-height: 100vh !important;
            overflow: visible !important;
        }
        
        /* Force single column layout */
        .flex.gap-12 {
            flex-direction: column !important;
            gap: 2rem !important;
        }
        
        /* All column widths become full width */
        .w-72 {
            width: 100% !important;
            max-width: 100% !important;
            height: auto !important;
        }
        
        .flex-shrink-0 {
            flex-shrink: 1 !important;
        }
        
        /* Left sidebar styling for tablets and mobile */
        #left-sidebar {
            position: static !important;
            width: 100% !important;
            height: auto !important;
            margin-bottom: 2rem !important;
            padding: 1.5rem 1rem !important;
            background: transparent !important;
            box-shadow: none !important;
            border-bottom: 1px solid rgb(228 228 231);
        }
        
        .dark #left-sidebar {
            border-bottom-color: rgb(63 63 70);
        }
        
        /* Center content full width */
        .flex-1 {
            width: 100% !important;
            position: static !important;
        }
        
        /* Right sidebar styling for tablets and mobile */
        .flex.gap-12 > div:last-child {
            display: block !important;
            width: 100% !important;
            position: static !important;
            height: auto !important;
            margin-top: 2rem !important;
            padding-top: 2rem !important;
            border-top: 1px solid rgb(228 228 231);
        }
        
        .dark .flex.gap-12 > div:last-child {
            border-top-color: rgb(63 63 70);
        }
        
        /* Remove all height constraints */
        .h-screen, .h-fit, .h-full, .h-\[calc\(100vh-2rem\)\] {
            height: auto !important;
        }
        
        .overflow-y-auto {
            overflow-y: visible !important;
            max-height: none !important;
        }
        
        /* Profile image styling */
        .w-40.h-40 {
            width: 8rem !important;
            height: 8rem !important;
            margin: 0 auto 1rem auto !important;
        }
        
        /* About Me section enhancement */
        .text-lg.font-semibold.mb-2 {
            font-size: 1.25rem !important;
            font-weight: 700 !important;
            margin-bottom: 1rem !important;
            text-align: center !important;
        }
        
        .text-sm.text-zinc-600.dark\:text-zinc-400.mb-2.text-justify {
            font-size: 0.9rem !important;
            line-height: 1.6 !important;
            text-align: left !important;
            margin-bottom: 1.5rem !important;
        }
        
        /* Hide GitHub Contributions section on tablet and mobile */
        section.mb-8 {
            display: none !important;
        }
        
        /* Typography improvements */
        .text-2xl {
            font-size: 1.5rem !important;
            text-align: center !important;
        }
        
        /* Location and time info layout */
        .flex.items-center.gap-3.mb-4 {
            flex-direction: column !important;
            align-items: center !important;
            gap: 0.5rem !important;
            text-align: center !important;
        }
        
        /* Tab navigation optimization */
        .inline-flex.h-9 {
            overflow-x: auto !important;
            -webkit-overflow-scrolling: touch !important;
            scrollbar-width: none !important;
        }
        
        .inline-flex.h-9::-webkit-scrollbar {
            display: none;
        }
        
        .tab-button {
            white-space: nowrap !important;
            min-width: fit-content !important;
            padding: 0.75rem 1rem !important;
        }
        
        /* Project items layout */
        .flex.items-baseline.justify-between {
            flex-direction: column !important;
            align-items: flex-start !important;
            gap: 0.5rem !important;
        }
        
        /* Text improvements */
        .text-justify {
            text-align: left !important;
        }
        
        /* Tag styling */
        .flex.flex-wrap.gap-2 {
            gap: 0.5rem !important;
            margin-top: 0.75rem !important;
        }
        
        .px-2.py-1.text-xs {
            padding: 0.375rem 0.5rem !important;
            font-size: 0.75rem !important;
        }
        
        /* Spacing improvements */
        .mb-12 {
            margin-bottom: 1.5rem !important;
        }
        
        .mb-8 {
            margin-bottom: 1.25rem !important;
        }
        
        .mb-6 {
            margin-bottom: 1rem !important;
        }
        
        .mb-4 {
            margin-bottom: 0.75rem !important;
        }
        
        /* Content sections spacing */
        section {
            margin-bottom: 2rem !important;
        }
        
        /* Ensure proper content flow */
        .space-y-8 > * + * {
            margin-top: 1.5rem !important;
        }
        
        .space-y-6 > * + * {
            margin-top: 1.25rem !important;
        }
        
        .space-y-4 > * + * {
            margin-top: 1rem !important;
        }
        
        .space-y-2 > * + * {
            margin-top: 0.5rem !important;
        }
        
        /* Mobile specific adjustments */
        @media (max-width: 768px) {
            main {
                padding: 0.75rem !important;
            }
            
            .w-40.h-40 {
                width: 7rem !important;
                height: 7rem !important;
            }
            
            .text-2xl {
                font-size: 1.375rem !important;
            }
            
            /* Reduce spacing on mobile */
            .flex.gap-12 {
                gap: 1.5rem !important;
            }
            
            #left-sidebar {
                padding: 1rem !important;
            }
        }
    }
    
    /* Extra small screens (â‰¤480px) */
    @media (max-width: 480px) {
        .px-4 {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }
        
        .py-10 {
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        
        .w-40.h-40 {
            width: 6rem !important;
            height: 6rem !important;
        }
        
        .text-2xl {
            font-size: 1.25rem !important;
        }
        
        .text-md {
            font-size: 0.875rem !important;
        }
        
        .gap-12 {
            gap: 1rem !important;
        }
    }
    
    /* These styles are now handled by the unified responsive system above */
    
    /* Main container behavior - optimized for all screen sizes */
    main {
        min-height: 100vh;
        overflow-x: hidden;
        overflow-y: auto;
    }
    
    .flex-1 {
        min-height: 0;
    }
    
    .overflow-y-auto {
        min-height: 0;
        flex: 1;
    }
    
    footer {
        margin-top: auto;
        flex-shrink: 0;
    }
    
    /* Ensure responsive images */
    img {
        max-width: 100%;
        height: auto;
    }
    
    /* Prevent horizontal overflow */
    * {
        box-sizing: border-box;
    }
    
    html, body {
        overflow-x: hidden;
    }
    
    /* Print styles */
    @media print {
        .mobile-menu-toggle,
        .mobile-overlay,
        #mobile-menu-toggle {
            display: none !important;
        }
        
        body {
            background: white !important;
            color: black !important;
        }
    }
    
    /* Medium-style article layout */
    .medium-style-article {
        max-width: none;
        width: 100%;
        margin: 0;
        padding: 0;
    }
    
    .medium-content {
        max-width: none;
        width: 100%;
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: 20px;
        line-height: 1.6;
        color: rgb(41, 41, 41);
        text-align: left;
        letter-spacing: -0.003em;
    }
    
    .dark .medium-content {
        color: rgb(242, 242, 242);
    }
    
    /* Medium content headings - responsive and elegant */
    .medium-content h1 {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: clamp(2rem, 5vw, 2.5rem);
        font-weight: 700;
        line-height: 1.2;
        margin: 3rem 0 1.5rem 0;
        color: rgb(41, 41, 41);
        letter-spacing: -0.02em;
    }
    
    .medium-content h2 {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: clamp(1.5rem, 4vw, 2rem);
        font-weight: 600;
        line-height: 1.3;
        margin: 2.5rem 0 1rem 0;
        color: rgb(41, 41, 41);
        letter-spacing: -0.015em;
    }
    
    .medium-content h3 {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: clamp(1.25rem, 3vw, 1.5rem);
        font-weight: 600;
        line-height: 1.4;
        margin: 2rem 0 0.75rem 0;
        color: rgb(41, 41, 41);
        letter-spacing: -0.01em;
    }
    
    .medium-content h4 {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: clamp(1.125rem, 2.5vw, 1.25rem);
        font-weight: 600;
        line-height: 1.4;
        margin: 1.5rem 0 0.5rem 0;
        color: rgb(41, 41, 41);
        letter-spacing: -0.005em;
    }
    
    .dark .medium-content h1,
    .dark .medium-content h2,
    .dark .medium-content h3,
    .dark .medium-content h4 {
        color: rgb(242, 242, 242);
    }
    
    /* Medium content paragraphs and text */
    .medium-content p {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: 20px;
        line-height: 1.6;
        margin: 1.5rem 0;
        color: rgb(41, 41, 41);
        text-align: left;
        letter-spacing: -0.003em;
    }
    
    .dark .medium-content p {
        color: rgb(242, 242, 242);
    }
    
    .medium-content ul,
    .medium-content ol {
        margin: 21px 0;
        padding-left: 30px;
    }
    
    .medium-content li {
        margin: 8px 0;
        text-align: justify;
        text-justify: inter-word;
    }
    
    .medium-content blockquote {
        border-left: 3px solid #242424;
        padding-left: 20px;
        margin: 29px 0;
        font-style: italic;
        color: #757575;
    }
    
    .dark .medium-content blockquote {
        border-left-color: #e5e5e5;
        color: #a0a0a0;
    }
    
    .medium-content pre {
        background: #f6f6f6;
        border-radius: 8px;
        padding: 20px;
        margin: 29px 0;
        overflow-x: auto;
        font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
        font-size: 16px;
        line-height: 1.4;
    }
    
    .dark .medium-content pre {
        background: #2a2a2a;
        color: #e5e5e5;
    }
    
    .medium-content code {
        background: #f6f6f6;
        padding: 2px 6px;
        border-radius: 4px;
        font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
        font-size: 16px;
    }
    
    .dark .medium-content code {
        background: #2a2a2a;
        color: #e5e5e5;
    }
    
    /* Notes page specific responsive optimizations */
    @media (max-width: 768px) {
        /* Notes layout mobile adjustments */
        .medium-content {
            font-size: 18px;
            line-height: 1.65;
            padding: 0 0.5rem;
        }
        
        .medium-content p {
            font-size: 18px;
            line-height: 1.65;
            margin: 1.25rem 0;
        }
        
        /* Mobile TOC improvements */
        #mobile-toc-toggle {
            position: sticky;
            top: 1rem;
            z-index: 10;
            backdrop-filter: blur(10px);
            background-color: rgba(249, 250, 251, 0.9);
        }
        
        .dark #mobile-toc-toggle {
            background-color: rgba(39, 39, 42, 0.9);
        }
        
        /* Optimize notes container for mobile */
        .max-w-6xl {
            max-width: 100%;
            padding-left: 1rem;
            padding-right: 1rem;
        }
    }
    
    /* Performance optimizations */
    @media (prefers-reduced-motion: reduce) {
        .toc-link,
        .tab-button,
        .note-item,
        button {
            transition: none !important;
        }
        
        .animate-fade-in,
        .animate-slide-left,
        .animate-pulse {
            animation: none !important;
        }
    }
    
    /* Optimize for high-DPI displays */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        .medium-content {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    }
    
    /* Blog Post Layout Responsive Styles */
    .medium-style-article {
        line-height: 1.6;
    }
    
    .medium-style-article .prose {
        font-family: Charter, Georgia, serif;
        color: rgba(41, 41, 41, 1);
    }
    
    .dark .medium-style-article .prose {
        color: rgba(242, 242, 242, 1);
    }
    
    /* TOC Responsive Behavior */
    @media (max-width: 1023px) {
        .lg\:block {
            display: none !important;
        }
        
        .lg\:hidden {
            display: block !important;
        }
        
        /* Mobile TOC toggle styling */
        #mobile-toc-toggle {
            transition: all 0.2s ease;
        }
        
        #mobile-toc.hidden {
            display: none;
        }
        
        #mobile-toc:not(.hidden) {
            display: block;
            animation: slideDown 0.2s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .rotate-180 {
            transform: rotate(180deg);
        }
    }
    
    /* Post content responsive typography */
    @media (max-width: 768px) {
        .medium-style-article h1 {
            font-size: 2.25rem !important;
            line-height: 1.2 !important;
        }
        
        .medium-style-article .prose {
            font-size: 1rem !important;
            line-height: 1.6 !important;
        }
        
        .max-w-6xl {
            padding-left: 1rem !important;
            padding-right: 1rem !important;
        }
    }
    
    @media (max-width: 480px) {
        .medium-style-article h1 {
            font-size: 1.875rem !important;
        }
        
        .text-3xl {
            font-size: 1.875rem !important;
        }
        
        .text-4xl {
            font-size: 2.25rem !important;
        }
        
        .text-5xl {
            font-size: 2.25rem !important;
        }
    }
    
    /* Notes Layout Responsive Styles */
    .note-content {
        line-height: 1.7;
    }
    
    @media (max-width: 1023px) {
        /* Ensure notes TOC behaves consistently with posts */
        .note-content h1, .note-content h2, .note-content h3, .note-content h4 {
            scroll-margin-top: 80px;
        }
    }
    
    @media (max-width: 768px) {
        .note-content {
            font-size: 1rem !important;
            line-height: 1.6 !important;
        }
        
        .note-content h1 {
            font-size: 2rem !important;
            line-height: 1.2 !important;
        }
        
        .note-content h2 {
            font-size: 1.5rem !important;
        }
        
        .note-content h3 {
            font-size: 1.25rem !important;
        }
    }
    
    /* Mobile-First Approach Enhancements */
    /* Base mobile styles applied first, then enhanced for larger screens */
    
    /* Touch-friendly interactions */
    @media (hover: none) and (pointer: coarse) {
        .toc-link {
            padding: 0.75rem 0.5rem !important;
            margin: 0.25rem 0 !important;
        }
        
        #mobile-toc-toggle {
            padding: 1rem !important;
            font-size: 1rem !important;
        }
        
        /* Larger touch targets for mobile */
        .inline-flex.items-center.gap-2 {
            padding: 0.75rem 1rem !important;
            margin: 0.5rem 0 !important;
        }
    }
    
    /* Progressive enhancement for larger screens */
    @media (min-width: 1024px) {
        .toc-link {
            font-size: 0.875rem;
            padding: 0.5rem;
        }
        
        /* Enhanced desktop interaction */
        .toc-link:hover {
            transform: translateX(4px);
            transition: all 0.2s ease;
        }
    }
    
    /* Ensure content is readable across all devices */
    .prose, .medium-content, .note-content {
        max-width: 100%;
        overflow-wrap: break-word;
        word-wrap: break-word;
        hyphens: auto;
    }
    
    /* Improved focus states for accessibility */
    .toc-link:focus,
    #mobile-toc-toggle:focus {
        outline: 2px solid rgb(59 130 246);
        outline-offset: 2px;
    }
</style>