/* Medium-like typography and layout */
:root {
  --text: #1a1a1a;
  --muted: #666;
  --bg: #ffffff;
  --link: #0f62fe;
  --border: #e6e6e6;
  --code-bg: #f6f8fa;
}
:root.dark,
html.dark {
  --text: #e5e5e5;
  --muted: #a1a1aa;
  --bg: #0a0a0a;
  --link: #60a5fa;
  --border: #27272a;
  --code-bg: #111827;
}

/* Base */
html, body {
  color: var(--text);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Article container similar to Medium */
article.prose,
.post-content,
.note-content {
  max-width: none; /* Use full available width */
  width: 100%;
  margin: 0;
  font-size: 18px;
  line-height: 1.8;
}

/* Headings */
article.prose h1, .post-content h1, .note-content h1 { font-size: 2.25rem; line-height: 1.2; font-weight: 800; margin: 1.8rem 0 1rem; }
article.prose h2, .post-content h2, .note-content h2 { font-size: 1.75rem; line-height: 1.3; font-weight: 700; margin: 1.6rem 0 0.8rem; }
article.prose h3, .post-content h3, .note-content h3 { font-size: 1.35rem; line-height: 1.4; font-weight: 700; margin: 1.4rem 0 0.6rem; }

/* Paragraphs */
article.prose p, .post-content p, .note-content p { margin: 1rem 0; color: var(--text); }

/* Muted text */
article.prose time, .post-content time, .note-content time,
article.prose .muted, .post-content .muted, .note-content .muted { color: var(--muted); }

/* Links */
article.prose a, .post-content a, .note-content a {
  color: var(--link);
  text-decoration: none;
}
article.prose a:hover, .post-content a:hover, .note-content a:hover { text-decoration: underline; }

/* Lists */
article.prose ul, .post-content ul, .note-content ul,
article.prose ol, .post-content ol, .note-content ol { margin: 1rem 0; padding-left: 1.25rem; }
article.prose li, .post-content li, .note-content li { margin: 0.4rem 0; }

/* Images */
article.prose img, .post-content img, .note-content img {
  display: block; max-width: 100%; height: auto; border-radius: 8px; margin: 1.25rem auto;
}

/* Blockquotes */
article.prose blockquote, .post-content blockquote, .note-content blockquote {
  border-left: 4px solid var(--border);
  padding: 0.5rem 1rem;
  margin: 1.25rem 0;
  color: var(--muted);
  background: rgba(0,0,0,0.02);
}
:root.dark article.prose blockquote,
:root.dark .post-content blockquote,
:root.dark .note-content blockquote,
html.dark article.prose blockquote,
html.dark .post-content blockquote,
html.dark .note-content blockquote { background: rgba(255,255,255,0.03); }

/* Code */
article.prose code, .post-content code, .note-content code {
  background: var(--code-bg);
  padding: 0.15rem 0.35rem;
  border-radius: 6px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.95em;
}
article.prose pre, .post-content pre, .note-content pre {
  background: var(--code-bg);
  padding: 1rem 1.25rem;
  border-radius: 10px;
  overflow: auto;
  border: 1px solid var(--border);
  margin: 1.25rem 0;
}
article.prose pre code, .post-content pre code, .note-content pre code { background: transparent; padding: 0; }

/* Tables */
article.prose table, .post-content table, .note-content table { width: 100%; border-collapse: collapse; margin: 1.25rem 0; }
article.prose th, .post-content th, .note-content th,
article.prose td, .post-content td, .note-content td { border: 1px solid var(--border); padding: 0.6rem 0.8rem; }
article.prose thead th, .post-content thead th, .note-content thead th { background: rgba(0,0,0,0.03); font-weight: 700; }
:root.dark article.prose thead th,
:root.dark .post-content thead th,
:root.dark .note-content thead th,
html.dark article.prose thead th,
html.dark .post-content thead th,
html.dark .note-content thead th { background: rgba(255,255,255,0.06); }

/* Horizontal rule */
article.prose hr, .post-content hr, .note-content hr { border: none; border-top: 1px solid var(--border); margin: 2rem 0; }

/* Captions */
article.prose figcaption, .post-content figcaption, .note-content figcaption { text-align: center; color: var(--muted); font-size: 0.95rem; margin-top: 0.4rem; }

/* Reading width on small screens */
@media (max-width: 768px) {
  article.prose, .post-content, .note-content { font-size: 17px; padding: 0 0.25rem; }
}

/* Note-specific refinements moved from inline CSS */
.note-content h1, .note-content h2, .note-content h3 {
  color: rgb(24 24 27);
  margin-top: 2rem;
  margin-bottom: 1rem;
}
.dark .note-content h1, .dark .note-content h2, .dark .note-content h3,
html.dark .note-content h1, html.dark .note-content h2, html.dark .note-content h3 {
  color: rgb(244 244 245);
}
.note-content p {
  margin-bottom: 1rem;
  line-height: 1.7;
}
.note-content ul, .note-content ol {
  margin-bottom: 1rem;
  padding-left: 1.5rem;
}
.note-content li { margin-bottom: 0.5rem; }
.note-content code {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  background: rgb(244 244 245);
  padding: 0.2rem 0.4rem;
  border-radius: 0.25rem;
  font-size: 0.875rem;
}
.dark .note-content code,
html.dark .note-content code { background: rgb(39 39 42); }
.note-content pre {
  margin: 1.5rem 0;
  background: rgb(248 250 252);
  padding: 1rem;
  border-radius: 0.5rem;
  overflow-x: auto;
}
.dark .note-content pre,
html.dark .note-content pre { background: rgb(24 24 27); }
/* MathJax sizing */
.MathJax { font-size: 1.1em !important; }
