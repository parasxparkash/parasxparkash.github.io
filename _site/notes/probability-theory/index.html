<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Probability Theory | Paras Parkash</title>
    <meta name="title" content="Probability Theory | Paras Parkash">
    <meta name="description" content="Fundamental concepts in probability theory including random variables, distributions, and stochastic processes with applications to quantitative finance.">
    <meta name="keywords" content="probability theory, random variables, distributions, stochastic processes, quantitative finance, statistics">
    <meta name="author" content="Paras Parkash">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="http://0.0.0.0:4002/notes/probability-theory/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://0.0.0.0:4002/notes/probability-theory/">
    <meta property="og:title" content="Probability Theory | Paras Parkash">
    <meta property="og:description" content="Fundamental concepts in probability theory including random variables, distributions, and stochastic processes with applications to quantitative finance.">
    <meta property="og:image" content="http://0.0.0.0:4002/assets/profile-optimized.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Probability Theory">
    <meta property="og:site_name" content="Paras Parkash">
    <meta property="og:locale" content="en_US">
    
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="http://0.0.0.0:4002/notes/probability-theory/">
    <meta name="twitter:title" content="Probability Theory | Paras Parkash">
    <meta name="twitter:description" content="Fundamental concepts in probability theory including random variables, distributions, and stochastic processes with applications to quantitative finance.">
    <meta name="twitter:image" content="http://0.0.0.0:4002/assets/profile-optimized.webp">
    <meta name="twitter:image:alt" content="Probability Theory">
    <meta name="twitter:creator" content="@parasxparkash">
    <meta name="twitter:site" content="@parasxparkash">
    
    <!-- Additional Meta Tags -->
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Paras Parkash">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22></text></svg>">
    <link rel="apple-touch-icon" href="/assets/profile-optimized.webp">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Prevent flash of incorrect theme -->
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const shouldUseDark = savedTheme === 'dark' || (!savedTheme && prefersDark);
            
            if (shouldUseDark) {
                document.documentElement.classList.add('dark');
                document.documentElement.style.colorScheme = 'dark';
            } else {
                document.documentElement.classList.remove('dark');
                document.documentElement.style.colorScheme = 'light';
            }
        })();
    </script>
    
    
    <!-- MathJax setup (must load before MathJax library executes) -->
    <script src="/assets/js/mathjax-setup.js"></script>
    <!-- MathJax v3 library -->
    <script id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- Polyfill for older browsers (safe to defer) -->
    <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script>
    
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'geist-sans': ['system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'slide-in': 'slideIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'slide-left': 'slideLeft 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideLeft: {
                            '0%': { opacity: '0', transform: 'translateX(-20px)' },
                            '100%': { opacity: '1', transform: 'translateX(0)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        
        "name": "Paras Parkash",
        "description": "My work focuses on developing quantitative risk management models leveraging agentic AI that dynamically manage market risks and optimize portfolio protection, using derivatives combined with advanced volatility models like GARCH, Heston, and higher-order frameworks.",
        "url": "http://0.0.0.0:4002",
        "image": "http://0.0.0.0:4002/assets/profile-optimized.webp",
        "jobTitle": "Quantitative Researcher",
        "worksFor": {
            "@type": "Organization",
            "name": "QuantEdX Research"
        },
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Chennai",
            "addressRegion": "Tamil Nadu",
            "addressCountry": "IN"
        },
        "sameAs": [
            "https://github.com/parasxparkash",
            "https://twitter.com/parasxparkash",
            "https://linkedin.com/in/parasxparkash",
            "https://medium.com/@parasparkash",
            "https://parasparkash.substack.com"
        ],
        "knowsAbout": [
            "Quantitative Finance",
            "Derivatives",
            "Risk Management",
            "Machine Learning",
            "Artificial Intelligence",
            "Mathematical Finance",
            "Stochastic Calculus"
        ],
        "alumniOf": {
            "@type": "EducationalOrganization",
            "name": "Educational Institution"
        }
        
    }
    </script>

    <!-- Website Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Paras Parkash",
        "description": "My work focuses on developing quantitative risk management models leveraging agentic AI that dynamically manage market risks and optimize portfolio protection, using derivatives combined with advanced volatility models like GARCH, Heston, and higher-order frameworks.",
        "url": "http://0.0.0.0:4002",
        "author": {
            "@type": "Person",
            "name": "Paras Parkash"
        },
        "potentialAction": {
            "@type": "SearchAction",
            "target": {
                "@type": "EntryPoint",
                "urlTemplate": "http://0.0.0.0:4002/search?q={search_term_string}"
            },
            "query-input": "required name=search_term_string"
        }
    }
    </script>

    <!-- Custom head content -->
<!-- Resource hints for performance -->
<link rel="dns-prefetch" href="//github.com">
<link rel="dns-prefetch" href="//twitter.com">
<link rel="dns-prefetch" href="//linkedin.com">
<link rel="dns-prefetch" href="//ipapi.co">

<!-- Preload critical resources -->
<link rel="preload" href="/assets/profile-optimized.webp" as="image" type="image/webp">
<link rel="preload" href="/assets/medium.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="/assets/medium.css"></noscript>

<!-- Critical CSS for above-the-fold content -->
<style>
    /* Base styles */
    body { 
        margin: 0; 
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
    }
    
    /* Ensure dark theme works properly */
    .dark {
        color-scheme: dark;
    }
    
    .dark body {
        background-color: rgb(24 24 27) !important;
    }
    
    .dark main {
        background-color: rgb(24 24 27) !important;
    }
    
    /* Core layout utilities */
    .text-zinc-900 { color: rgb(24 24 27); }
    .dark .text-zinc-100 { color: rgb(244 244 245); }
    .max-w-7xl { max-width: 80rem; }
    .mx-auto { margin-left: auto; margin-right: auto; }
    .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .py-10 { padding-top: 2.5rem; padding-bottom: 2.5rem; }
    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .gap-12 { gap: 3rem; }
    .w-72 { width: 18rem; }
    .flex-shrink-0 { flex-shrink: 0; }
    .sticky { position: sticky; }
    .top-4 { top: 1rem; }
    .h-fit { height: fit-content; }
    .mb-6 { margin-bottom: 1.5rem; }
    .justify-center { justify-content: center; }
    .w-40 { width: 10rem; }
    .h-40 { height: 10rem; }
    .rounded-full { border-radius: 9999px; }
    .object-cover { object-fit: cover; }
    .border-2 { border-width: 2px; }
    .border-zinc-200 { border-color: rgb(228 228 231); }
    .dark .border-zinc-700 { border-color: rgb(63 63 70); }
    
    /* Animation classes */
    .animate-delay-100 { animation-delay: 0.1s; }
    .animate-delay-200 { animation-delay: 0.2s; }
    .animate-delay-300 { animation-delay: 0.3s; }
    .animate-delay-400 { animation-delay: 0.4s; }
    
    .opacity-0 { 
        opacity: 0; 
        will-change: opacity;
    }
    .transform { 
        transform: translateY(20px); 
        will-change: transform;
    }
    .transform-x { 
        transform: translateX(-20px); 
        will-change: transform;
    }
    
    /* Dark mode detection */
    @media (prefers-color-scheme: dark) {
        html:not(.light) {
            color-scheme: dark;
        }
    }

    /* Tab styles */
    .tab-content {
        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    }
    
    .tab-button.active {
        font-weight: bold !important;
        color: rgb(39 39 42) !important;
    }
    
    .dark .tab-button.active {
        color: rgb(244 244 245) !important;
    }
    
    /* Smooth transitions */
    a, button {
        transition: all 0.2s ease-in-out;
    }
    
    /* Scrollbar styling */
    .flex-1.overflow-y-auto {
        scrollbar-width: none;
        -ms-overflow-style: none;
    }
    
    .flex-1.overflow-y-auto::-webkit-scrollbar {
        display: none;
    }
    
    ::-webkit-scrollbar {
        width: 6px;
    }
    
    ::-webkit-scrollbar-track {
        background: transparent;
    }
    
    ::-webkit-scrollbar-thumb {
        background: rgb(161 161 170);
        border-radius: 3px;
    }
    
    .dark ::-webkit-scrollbar-thumb {
        background: rgb(82 82 91);
    }
    
    /* Notes tag styling */
    .note-tag.active {
        background-color: rgb(59 130 246) !important;
        color: white !important;
    }
    
    .dark .note-tag.active {
        background-color: rgb(96 165 250) !important;
        color: white !important;
    }
    
    /* Note item transitions */
    .note-item {
        transition: opacity 0.3s ease, transform 0.3s ease;
    }
    
    /* List item hover effects */
    .tab-content li, .tab-content .space-y-6 > div {
        position: relative;
        transition: all 0.3s ease;
        padding-left: 1rem;
    }
    
    .tab-content li::before, .tab-content .space-y-6 > div::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: rgb(0 0 0);
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .dark .tab-content li::before, .dark .tab-content .space-y-6 > div::before {
        background: rgb(255 255 255);
    }
    
    .tab-content li:hover::before, .tab-content .space-y-6 > div:hover::before {
        opacity: 1;
    }
    
    /* ===== RESPONSIVE DESIGN ===== */
    
    /* Large screens only - Three column layout (1200px+) */
    @media (min-width: 1200px) {
        .flex.gap-12 {
            gap: 3rem;
            flex-direction: row;
        }
        
        .flex.gap-12 > div:first-child {  /* Left sidebar */
            flex: 1;
            max-width: 288px;
        }
        
        .flex.gap-12 > div:nth-child(2) {  /* Center content */
            flex: 2;
            min-width: 576px;
        }
        
        .flex.gap-12 > div:last-child {  /* Right sidebar */
            flex: 1;
            max-width: 288px;
        }
        
        /* Show all elements on desktop */
        #left-sidebar {
            position: sticky !important;
            top: 1rem !important;
            height: fit-content !important;
        }
        
        .flex.gap-12 > div:last-child {
            display: block !important;
            position: sticky !important;
            top: 1rem !important;
            height: fit-content !important;
        }
        
        /* Desktop: Hide mobile elements */
        .md\:hidden {
            display: none !important;
        }
        
        .hidden.md\:block {
            display: block !important;
        }
    }
    
    /* Tablet and Mobile - Single column layout (below 1200px) */
    @media (max-width: 1199px) {
        /* Override the mobile menu toggle and overlay */
        #mobile-menu-toggle {
            display: none !important;
        }
        
        .mobile-overlay {
            display: none !important;
        }
        
        /* Main container adjustments */
        main {
            padding: 1rem !important;
            height: auto !important;
            min-height: 100vh !important;
            overflow: visible !important;
        }
        
        /* Force single column layout */
        .flex.gap-12 {
            flex-direction: column !important;
            gap: 2rem !important;
        }
        
        /* All column widths become full width */
        .w-72 {
            width: 100% !important;
            max-width: 100% !important;
            height: auto !important;
        }
        
        .flex-shrink-0 {
            flex-shrink: 1 !important;
        }
        
        /* Left sidebar styling for tablets and mobile */
        #left-sidebar {
            position: static !important;
            width: 100% !important;
            height: auto !important;
            margin-bottom: 2rem !important;
            padding: 1.5rem 1rem !important;
            background: transparent !important;
            box-shadow: none !important;
            border-bottom: 1px solid rgb(228 228 231);
        }
        
        .dark #left-sidebar {
            border-bottom-color: rgb(63 63 70);
        }
        
        /* Center content full width */
        .flex-1 {
            width: 100% !important;
            position: static !important;
        }
        
        /* Right sidebar styling for tablets and mobile */
        .flex.gap-12 > div:last-child {
            display: block !important;
            width: 100% !important;
            position: static !important;
            height: auto !important;
            margin-top: 2rem !important;
            padding-top: 2rem !important;
            border-top: 1px solid rgb(228 228 231);
        }
        
        .dark .flex.gap-12 > div:last-child {
            border-top-color: rgb(63 63 70);
        }
        
        /* Remove all height constraints */
        .h-screen, .h-fit, .h-full, .h-\[calc\(100vh-2rem\)\] {
            height: auto !important;
        }
        
        .overflow-y-auto {
            overflow-y: visible !important;
            max-height: none !important;
        }
        
        /* Profile image styling */
        .w-40.h-40 {
            width: 8rem !important;
            height: 8rem !important;
            margin: 0 auto 1rem auto !important;
        }
        
        /* About Me section enhancement */
        .text-lg.font-semibold.mb-2 {
            font-size: 1.25rem !important;
            font-weight: 700 !important;
            margin-bottom: 1rem !important;
            text-align: center !important;
        }
        
        .text-sm.text-zinc-600.dark\:text-zinc-400.mb-2.text-justify {
            font-size: 0.9rem !important;
            line-height: 1.6 !important;
            text-align: left !important;
            margin-bottom: 1.5rem !important;
        }
        
        /* Hide GitHub Contributions section on tablet and mobile */
        section.mb-8 {
            display: none !important;
        }
        
        /* Typography improvements */
        .text-2xl {
            font-size: 1.5rem !important;
            text-align: center !important;
        }
        
        /* Location and time info layout */
        .flex.items-center.gap-3.mb-4 {
            flex-direction: column !important;
            align-items: center !important;
            gap: 0.5rem !important;
            text-align: center !important;
        }
        
        /* Tab navigation optimization */
        .inline-flex.h-9 {
            overflow-x: auto !important;
            -webkit-overflow-scrolling: touch !important;
            scrollbar-width: none !important;
        }
        
        .inline-flex.h-9::-webkit-scrollbar {
            display: none;
        }
        
        .tab-button {
            white-space: nowrap !important;
            min-width: fit-content !important;
            padding: 0.75rem 1rem !important;
        }
        
        /* Project items layout */
        .flex.items-baseline.justify-between {
            flex-direction: column !important;
            align-items: flex-start !important;
            gap: 0.5rem !important;
        }
        
        /* Text improvements */
        .text-justify {
            text-align: left !important;
        }
        
        /* Tag styling */
        .flex.flex-wrap.gap-2 {
            gap: 0.5rem !important;
            margin-top: 0.75rem !important;
        }
        
        .px-2.py-1.text-xs {
            padding: 0.375rem 0.5rem !important;
            font-size: 0.75rem !important;
        }
        
        /* Spacing improvements */
        .mb-12 {
            margin-bottom: 1.5rem !important;
        }
        
        .mb-8 {
            margin-bottom: 1.25rem !important;
        }
        
        .mb-6 {
            margin-bottom: 1rem !important;
        }
        
        .mb-4 {
            margin-bottom: 0.75rem !important;
        }
        
        /* Content sections spacing */
        section {
            margin-bottom: 2rem !important;
        }
        
        /* Ensure proper content flow */
        .space-y-8 > * + * {
            margin-top: 1.5rem !important;
        }
        
        .space-y-6 > * + * {
            margin-top: 1.25rem !important;
        }
        
        .space-y-4 > * + * {
            margin-top: 1rem !important;
        }
        
        .space-y-2 > * + * {
            margin-top: 0.5rem !important;
        }
        
        /* Mobile specific adjustments */
        @media (max-width: 768px) {
            main {
                padding: 0.75rem !important;
            }
            
            .w-40.h-40 {
                width: 7rem !important;
                height: 7rem !important;
            }
            
            .text-2xl {
                font-size: 1.375rem !important;
            }
            
            /* Reduce spacing on mobile */
            .flex.gap-12 {
                gap: 1.5rem !important;
            }
            
            #left-sidebar {
                padding: 1rem !important;
            }
        }
    }
    
    /* Extra small screens (≤480px) */
    @media (max-width: 480px) {
        .px-4 {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }
        
        .py-10 {
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        
        .w-40.h-40 {
            width: 6rem !important;
            height: 6rem !important;
        }
        
        .text-2xl {
            font-size: 1.25rem !important;
        }
        
        .text-md {
            font-size: 0.875rem !important;
        }
        
        .gap-12 {
            gap: 1rem !important;
        }
    }
    
    /* These styles are now handled by the unified responsive system above */
    
    /* Main container behavior - optimized for all screen sizes */
    main {
        min-height: 100vh;
        overflow-x: hidden;
        overflow-y: auto;
    }
    
    .flex-1 {
        min-height: 0;
    }
    
    .overflow-y-auto {
        min-height: 0;
        flex: 1;
    }
    
    footer {
        margin-top: auto;
        flex-shrink: 0;
    }
    
    /* Ensure responsive images */
    img {
        max-width: 100%;
        height: auto;
    }
    
    /* Prevent horizontal overflow */
    * {
        box-sizing: border-box;
    }
    
    html, body {
        overflow-x: hidden;
    }
    
    /* Print styles */
    @media print {
        .mobile-menu-toggle,
        .mobile-overlay,
        #mobile-menu-toggle {
            display: none !important;
        }
        
        body {
            background: white !important;
            color: black !important;
        }
    }
    
    /* Medium-style article layout */
    .medium-style-article {
        max-width: none;
        width: 100%;
        margin: 0;
        padding: 0;
    }
    
    .medium-content {
        max-width: none;
        width: 100%;
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: 20px;
        line-height: 1.6;
        color: rgb(41, 41, 41);
        text-align: left;
        letter-spacing: -0.003em;
    }
    
    .dark .medium-content {
        color: rgb(242, 242, 242);
    }
    
    /* Medium content headings - responsive and elegant */
    .medium-content h1 {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: clamp(2rem, 5vw, 2.5rem);
        font-weight: 700;
        line-height: 1.2;
        margin: 3rem 0 1.5rem 0;
        color: rgb(41, 41, 41);
        letter-spacing: -0.02em;
    }
    
    .medium-content h2 {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: clamp(1.5rem, 4vw, 2rem);
        font-weight: 600;
        line-height: 1.3;
        margin: 2.5rem 0 1rem 0;
        color: rgb(41, 41, 41);
        letter-spacing: -0.015em;
    }
    
    .medium-content h3 {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: clamp(1.25rem, 3vw, 1.5rem);
        font-weight: 600;
        line-height: 1.4;
        margin: 2rem 0 0.75rem 0;
        color: rgb(41, 41, 41);
        letter-spacing: -0.01em;
    }
    
    .medium-content h4 {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: clamp(1.125rem, 2.5vw, 1.25rem);
        font-weight: 600;
        line-height: 1.4;
        margin: 1.5rem 0 0.5rem 0;
        color: rgb(41, 41, 41);
        letter-spacing: -0.005em;
    }
    
    .dark .medium-content h1,
    .dark .medium-content h2,
    .dark .medium-content h3,
    .dark .medium-content h4 {
        color: rgb(242, 242, 242);
    }
    
    /* Medium content paragraphs and text */
    .medium-content p {
        font-family: 'Charter', 'Georgia', 'Times New Roman', serif;
        font-size: 20px;
        line-height: 1.6;
        margin: 1.5rem 0;
        color: rgb(41, 41, 41);
        text-align: left;
        letter-spacing: -0.003em;
    }
    
    .dark .medium-content p {
        color: rgb(242, 242, 242);
    }
    
    .medium-content ul,
    .medium-content ol {
        margin: 21px 0;
        padding-left: 30px;
    }
    
    .medium-content li {
        margin: 8px 0;
        text-align: justify;
        text-justify: inter-word;
    }
    
    .medium-content blockquote {
        border-left: 3px solid #242424;
        padding-left: 20px;
        margin: 29px 0;
        font-style: italic;
        color: #757575;
    }
    
    .dark .medium-content blockquote {
        border-left-color: #e5e5e5;
        color: #a0a0a0;
    }
    
    .medium-content pre {
        background: #f6f6f6;
        border-radius: 8px;
        padding: 20px;
        margin: 29px 0;
        overflow-x: auto;
        font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
        font-size: 16px;
        line-height: 1.4;
    }
    
    .dark .medium-content pre {
        background: #2a2a2a;
        color: #e5e5e5;
    }
    
    .medium-content code {
        background: #f6f6f6;
        padding: 2px 6px;
        border-radius: 4px;
        font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
        font-size: 16px;
    }
    
    .dark .medium-content code {
        background: #2a2a2a;
        color: #e5e5e5;
    }
    
    /* Notes page specific responsive optimizations */
    @media (max-width: 768px) {
        /* Notes layout mobile adjustments */
        .medium-content {
            font-size: 18px;
            line-height: 1.65;
            padding: 0 0.5rem;
        }
        
        .medium-content p {
            font-size: 18px;
            line-height: 1.65;
            margin: 1.25rem 0;
        }
        
        /* Mobile TOC improvements */
        #mobile-toc-toggle {
            position: sticky;
            top: 1rem;
            z-index: 10;
            backdrop-filter: blur(10px);
            background-color: rgba(249, 250, 251, 0.9);
        }
        
        .dark #mobile-toc-toggle {
            background-color: rgba(39, 39, 42, 0.9);
        }
        
        /* Optimize notes container for mobile */
        .max-w-6xl {
            max-width: 100%;
            padding-left: 1rem;
            padding-right: 1rem;
        }
    }
    
    /* Performance optimizations */
    @media (prefers-reduced-motion: reduce) {
        .toc-link,
        .tab-button,
        .note-item,
        button {
            transition: none !important;
        }
        
        .animate-fade-in,
        .animate-slide-left,
        .animate-pulse {
            animation: none !important;
        }
    }
    
    /* Optimize for high-DPI displays */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        .medium-content {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    }
    
    /* Blog Post Layout Responsive Styles */
    .medium-style-article {
        line-height: 1.6;
    }
    
    .medium-style-article .prose {
        font-family: Charter, Georgia, serif;
        color: rgba(41, 41, 41, 1);
    }
    
    .dark .medium-style-article .prose {
        color: rgba(242, 242, 242, 1);
    }
    
    /* TOC Responsive Behavior */
    @media (max-width: 1023px) {
        .lg\:block {
            display: none !important;
        }
        
        .lg\:hidden {
            display: block !important;
        }
        
        /* Mobile TOC toggle styling */
        #mobile-toc-toggle {
            transition: all 0.2s ease;
        }
        
        #mobile-toc.hidden {
            display: none;
        }
        
        #mobile-toc:not(.hidden) {
            display: block;
            animation: slideDown 0.2s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .rotate-180 {
            transform: rotate(180deg);
        }
    }
    
    /* Post content responsive typography */
    @media (max-width: 768px) {
        .medium-style-article h1 {
            font-size: 2.25rem !important;
            line-height: 1.2 !important;
        }
        
        .medium-style-article .prose {
            font-size: 1rem !important;
            line-height: 1.6 !important;
        }
        
        .max-w-6xl {
            padding-left: 1rem !important;
            padding-right: 1rem !important;
        }
    }
    
    @media (max-width: 480px) {
        .medium-style-article h1 {
            font-size: 1.875rem !important;
        }
        
        .text-3xl {
            font-size: 1.875rem !important;
        }
        
        .text-4xl {
            font-size: 2.25rem !important;
        }
        
        .text-5xl {
            font-size: 2.25rem !important;
        }
    }
    
    /* Notes Layout Responsive Styles */
    .note-content {
        line-height: 1.7;
    }
    
    @media (max-width: 1023px) {
        /* Ensure notes TOC behaves consistently with posts */
        .note-content h1, .note-content h2, .note-content h3, .note-content h4 {
            scroll-margin-top: 80px;
        }
    }
    
    @media (max-width: 768px) {
        .note-content {
            font-size: 1rem !important;
            line-height: 1.6 !important;
        }
        
        .note-content h1 {
            font-size: 2rem !important;
            line-height: 1.2 !important;
        }
        
        .note-content h2 {
            font-size: 1.5rem !important;
        }
        
        .note-content h3 {
            font-size: 1.25rem !important;
        }
    }
    
    /* Mobile-First Approach Enhancements */
    /* Base mobile styles applied first, then enhanced for larger screens */
    
    /* Touch-friendly interactions */
    @media (hover: none) and (pointer: coarse) {
        .toc-link {
            padding: 0.75rem 0.5rem !important;
            margin: 0.25rem 0 !important;
        }
        
        #mobile-toc-toggle {
            padding: 1rem !important;
            font-size: 1rem !important;
        }
        
        /* Larger touch targets for mobile */
        .inline-flex.items-center.gap-2 {
            padding: 0.75rem 1rem !important;
            margin: 0.5rem 0 !important;
        }
    }
    
    /* Progressive enhancement for larger screens */
    @media (min-width: 1024px) {
        .toc-link {
            font-size: 0.875rem;
            padding: 0.5rem;
        }
        
        /* Enhanced desktop interaction */
        .toc-link:hover {
            transform: translateX(4px);
            transition: all 0.2s ease;
        }
    }
    
    /* Ensure content is readable across all devices */
    .prose, .medium-content, .note-content {
        max-width: 100%;
        overflow-wrap: break-word;
        word-wrap: break-word;
        hyphens: auto;
    }
    
    /* Improved focus states for accessibility */
    .toc-link:focus,
    #mobile-toc-toggle:focus {
        outline: 2px solid rgb(59 130 246);
        outline-offset: 2px;
    }
</style>
</head>

<body class="font-geist-sans bg-white overscroll-none dark:bg-zinc-900 transition-colors duration-300">
    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobile-overlay"></div>
    
    

<div class="max-w-6xl mx-auto px-4 py-8">
    <div class="flex gap-6 lg:gap-8">
        <!-- Table of Contents Sidebar - Hidden on mobile, visible on desktop -->
        <div class="hidden lg:block w-48 flex-shrink-0 sticky top-8 h-fit">
            <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 max-h-[calc(100vh-8rem)] overflow-y-auto">
                <h3 class="text-sm font-semibold mb-3 text-zinc-900 dark:text-zinc-100 font-serif">Contents</h3>
                <nav id="toc" class="space-y-1">
                    <!-- TOC will be generated by JavaScript -->
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 min-w-0">
            <article class="medium-style-article">
                <!-- Header -->
                <header class="mb-12 text-center border-b border-zinc-200 dark:border-zinc-700 pb-8">
                    <div class="mb-8">
                        <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-zinc-900 dark:text-zinc-100 leading-tight mb-6 font-serif tracking-tight">Probability Theory</h1>
                        
                        <time class="text-lg text-zinc-600 dark:text-zinc-400 font-serif">January 08, 2024</time>
                        
                    </div>
                    
                    
                    <div class="flex flex-wrap gap-2 justify-center mb-8">
                        
                        <span class="px-3 py-1.5 text-xs bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors font-serif tracking-wide">
                            probability
                        </span>
                        
                        <span class="px-3 py-1.5 text-xs bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors font-serif tracking-wide">
                            statistics
                        </span>
                        
                        <span class="px-3 py-1.5 text-xs bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors font-serif tracking-wide">
                            mathematics
                        </span>
                        
                    </div>
                    
                    
                    <div class="flex justify-center items-center space-x-6">
                        <a href="/" class="inline-flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors font-serif">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                            </svg>
                            Home
                        </a>
                        <a href="/notes" class="inline-flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors font-serif">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                            </svg>
                            All Notes
                        </a>
                        
                        <!-- Theme Toggle Button -->
                        <button id="sidebar-theme-toggle" class="p-2 rounded-lg bg-zinc-200 dark:bg-zinc-800 text-zinc-800 dark:text-zinc-200 hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors duration-200">
                            <svg id="sidebar-sun-icon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                            <svg id="sidebar-moon-icon" class="w-5 h-5 block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            </svg>
                        </button>
                    </div>
                </header>

                <!-- Mobile TOC Toggle Button (only on mobile/tablet) -->
                <div class="lg:hidden mb-6">
                    <button id="mobile-toc-toggle" class="w-full flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-800 rounded-lg text-sm font-medium text-zinc-900 dark:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                        <span class="font-serif">Table of Contents</span>
                        <svg class="w-4 h-4 transform transition-transform" id="toc-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="mobile-toc" class="hidden mt-3 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-lg">
                        <nav id="toc-mobile" class="space-y-1">
                            <!-- TOC will be generated by JavaScript -->
                        </nav>
                    </div>
                </div>

                <!-- Content with Medium styling -->
                <div class="note-content medium-content prose prose-lg max-w-none">
                    <h1 id="probability-theory">Probability Theory</h1>

<p>Probability theory is the branch of mathematics concerned with probability. It provides a mathematical framework for analyzing random phenomena and uncertainty.</p>

<h2 id="basic-concepts">Basic Concepts</h2>

<h3 id="sample-space-and-events">Sample Space and Events</h3>

<p>The <strong>sample space</strong> $\Omega$ is the set of all possible outcomes of an experiment.</p>

<p>An <strong>event</strong> $A$ is a subset of the sample space: $A \subseteq \Omega$.</p>

<h3 id="probability-measure">Probability Measure</h3>

<p>A <strong>probability measure</strong> $P$ is a function $P: \mathcal{F} \to [0,1]$ where $\mathcal{F}$ is a $\sigma$-algebra of subsets of $\Omega$, satisfying:</p>

<ol>
  <li><strong>Non-negativity</strong>: $P(A) \geq 0$ for all $A \in \mathcal{F}$</li>
  <li><strong>Normalization</strong>: $P(\Omega) = 1$</li>
  <li><strong>Countable additivity</strong>: For disjoint events $A_1, A_2, \ldots$:
\(P\left(\bigcup_{i=1}^{\infty} A_i\right) = \sum_{i=1}^{\infty} P(A_i)\)</li>
</ol>

<h2 id="conditional-probability">Conditional Probability</h2>

<p>The <strong>conditional probability</strong> of event $A$ given event $B$ is:
\(P(A|B) = \frac{P(A \cap B)}{P(B)}\)
provided $P(B) &gt; 0$.</p>

<h3 id="bayes-theorem">Bayes’ Theorem</h3>

<p>For events $A$ and $B$ with $P(A), P(B) &gt; 0$:
\(P(A|B) = \frac{P(B|A)P(A)}{P(B)}\)</p>

<p>More generally, for a partition ${B_1, B_2, \ldots, B_n}$ of $\Omega$:
\(P(B_i|A) = \frac{P(A|B_i)P(B_i)}{\sum_{j=1}^n P(A|B_j)P(B_j)}\)</p>

<h2 id="random-variables">Random Variables</h2>

<p>A <strong>random variable</strong> $X$ is a measurable function $X: \Omega \to \mathbb{R}$.</p>

<h3 id="distribution-function">Distribution Function</h3>

<p>The <strong>cumulative distribution function</strong> (CDF) of $X$ is:
\(F_X(x) = P(X \leq x)\)</p>

<h3 id="discrete-random-variables">Discrete Random Variables</h3>

<p>For discrete random variables, the <strong>probability mass function</strong> (PMF) is:
\(p_X(x) = P(X = x)\)</p>

<h3 id="continuous-random-variables">Continuous Random Variables</h3>

<p>For continuous random variables, the <strong>probability density function</strong> (PDF) $f_X(x)$ satisfies:
\(P(a &lt; X \leq b) = \int_a^b f_X(x) \, dx\)</p>

<h2 id="expectation-and-variance">Expectation and Variance</h2>

<h3 id="expected-value">Expected Value</h3>

<p>For a discrete random variable:
\(E[X] = \sum_{x} x \cdot P(X = x)\)</p>

<p>For a continuous random variable:
\(E[X] = \int_{-\infty}^{\infty} x \cdot f_X(x) \, dx\)</p>

<h3 id="variance">Variance</h3>

<p>The <strong>variance</strong> of $X$ is:
\(\text{Var}(X) = E[(X - E[X])^2] = E[X^2] - (E[X])^2\)</p>

<p>The <strong>standard deviation</strong> is $\sigma_X = \sqrt{\text{Var}(X)}$.</p>

<h2 id="common-distributions">Common Distributions</h2>

<h3 id="bernoulli-distribution">Bernoulli Distribution</h3>

<p>$X \sim \text{Bernoulli}(p)$ where $P(X = 1) = p$ and $P(X = 0) = 1-p$.</p>

<ul>
  <li>$E[X] = p$</li>
  <li>$\text{Var}(X) = p(1-p)$</li>
</ul>

<h3 id="binomial-distribution">Binomial Distribution</h3>

<p>$X \sim \text{Binomial}(n, p)$ represents the number of successes in $n$ independent Bernoulli trials:
\(P(X = k) = \binom{n}{k} p^k (1-p)^{n-k}\)</p>

<ul>
  <li>$E[X] = np$</li>
  <li>$\text{Var}(X) = np(1-p)$</li>
</ul>

<h3 id="poisson-distribution">Poisson Distribution</h3>

<p>$X \sim \text{Poisson}(\lambda)$ models the number of events in a fixed interval:
\(P(X = k) = \frac{\lambda^k e^{-\lambda}}{k!}\)</p>

<ul>
  <li>$E[X] = \lambda$</li>
  <li>$\text{Var}(X) = \lambda$</li>
</ul>

<h3 id="normal-distribution">Normal Distribution</h3>

<p>$X \sim \mathcal{N}(\mu, \sigma^2)$ has PDF:
\(f_X(x) = \frac{1}{\sqrt{2\pi\sigma^2}} e^{-\frac{(x-\mu)^2}{2\sigma^2}}\)</p>

<ul>
  <li>$E[X] = \mu$</li>
  <li>$\text{Var}(X) = \sigma^2$</li>
</ul>

<h3 id="exponential-distribution">Exponential Distribution</h3>

<p>$X \sim \text{Exponential}(\lambda)$ has PDF:
\(f_X(x) = \lambda e^{-\lambda x} \text{ for } x \geq 0\)</p>

<ul>
  <li>$E[X] = \frac{1}{\lambda}$</li>
  <li>$\text{Var}(X) = \frac{1}{\lambda^2}$</li>
</ul>

<h2 id="limit-theorems">Limit Theorems</h2>

<h3 id="law-of-large-numbers">Law of Large Numbers</h3>

<p><strong>Weak Law</strong>: For i.i.d. random variables $X_1, X_2, \ldots$ with $E[X_i] = \mu$:
\(\frac{1}{n}\sum_{i=1}^n X_i \xrightarrow{P} \mu\)</p>

<p><strong>Strong Law</strong>: 
\(P\left(\lim_{n \to \infty} \frac{1}{n}\sum_{i=1}^n X_i = \mu\right) = 1\)</p>

<h3 id="central-limit-theorem">Central Limit Theorem</h3>

<p>For i.i.d. random variables $X_1, X_2, \ldots$ with $E[X_i] = \mu$ and $\text{Var}(X_i) = \sigma^2$:
\(\frac{\sum_{i=1}^n X_i - n\mu}{\sqrt{n\sigma^2}} \xrightarrow{d} \mathcal{N}(0,1)\)</p>

<h2 id="bayesian-inference">Bayesian Inference</h2>

<h3 id="prior-and-posterior">Prior and Posterior</h3>

<p>In Bayesian inference, we update our beliefs about parameter $\theta$ given data $x$:</p>

<ul>
  <li><strong>Prior</strong>: $\pi(\theta)$</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><strong>Likelihood</strong>: $L(\theta</td>
          <td>x) = f(x</td>
          <td>\theta)$</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><strong>Posterior</strong>: $\pi(\theta</td>
          <td>x) = \frac{L(\theta</td>
          <td>x)\pi(\theta)}{m(x)}$</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<table>
  <tbody>
    <tr>
      <td>where $m(x) = \int L(\theta</td>
      <td>x)\pi(\theta) \, d\theta$ is the marginal likelihood.</td>
    </tr>
  </tbody>
</table>

<h3 id="conjugate-priors">Conjugate Priors</h3>

<table>
  <tbody>
    <tr>
      <td>A prior $\pi(\theta)$ is <strong>conjugate</strong> to likelihood $L(\theta</td>
      <td>x)$ if the posterior has the same functional form as the prior.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><strong>Example</strong>: For $X</td>
      <td>\theta \sim \text{Binomial}(n, \theta)$ and $\theta \sim \text{Beta}(\alpha, \beta)$:</td>
    </tr>
    <tr>
      <td>$$\theta</td>
      <td>x \sim \text{Beta}(\alpha + x, \beta + n - x)$$</td>
    </tr>
  </tbody>
</table>

<h2 id="stochastic-processes">Stochastic Processes</h2>

<h3 id="markov-chains">Markov Chains</h3>

<p>A sequence of random variables ${X_n}$ is a <strong>Markov chain</strong> if:
\(P(X_{n+1} = j | X_n = i, X_{n-1} = i_{n-1}, \ldots, X_0 = i_0) = P(X_{n+1} = j | X_n = i)\)</p>

<table>
  <tbody>
    <tr>
      <td>The <strong>transition probability</strong> is $p_{ij} = P(X_{n+1} = j</td>
      <td>X_n = i)$.</td>
    </tr>
  </tbody>
</table>

<h3 id="poisson-process">Poisson Process</h3>

<p>A <strong>Poisson process</strong> with rate $\lambda$ is a counting process ${N(t), t \geq 0}$ where:</p>

<ol>
  <li>$N(0) = 0$</li>
  <li>Independent increments</li>
  <li>$N(t+s) - N(s) \sim \text{Poisson}(\lambda t)$</li>
</ol>

<h3 id="brownian-motion">Brownian Motion</h3>

<p><strong>Brownian motion</strong> ${B(t), t \geq 0}$ satisfies:</p>

<ol>
  <li>$B(0) = 0$</li>
  <li>Independent increments</li>
  <li>$B(t) - B(s) \sim \mathcal{N}(0, t-s)$ for $t &gt; s$</li>
  <li>Continuous paths</li>
</ol>

<h2 id="applications">Applications</h2>

<h3 id="finance">Finance</h3>
<ul>
  <li><strong>Black-Scholes Model</strong>: Stock prices follow geometric Brownian motion</li>
  <li><strong>Value at Risk</strong>: Quantifying financial risk</li>
  <li><strong>Portfolio Optimization</strong>: Markowitz mean-variance theory</li>
</ul>

<h3 id="machine-learning">Machine Learning</h3>
<ul>
  <li><strong>Bayesian Classification</strong>: Using Bayes’ theorem for classification</li>
  <li><strong>Gaussian Processes</strong>: Non-parametric Bayesian approach</li>
  <li><strong>Monte Carlo Methods</strong>: Sampling-based algorithms</li>
</ul>

<h3 id="quality-control">Quality Control</h3>
<ul>
  <li><strong>Statistical Process Control</strong>: Monitoring manufacturing processes</li>
  <li><strong>Reliability Theory</strong>: Modeling system failures</li>
</ul>

<h2 id="exercises">Exercises</h2>

<ol>
  <li>
    <p><strong>Prove</strong> that for any two events $A$ and $B$:
\(P(A \cup B) = P(A) + P(B) - P(A \cap B)\)</p>
  </li>
  <li>
    <p><strong>Show</strong> that if $X \sim \mathcal{N}(\mu, \sigma^2)$, then $\frac{X - \mu}{\sigma} \sim \mathcal{N}(0, 1)$.</p>
  </li>
  <li>
    <p><strong>Derive</strong> the moment generating function for the exponential distribution.</p>
  </li>
  <li>
    <p><strong>Prove</strong> the weak law of large numbers using Chebyshev’s inequality.</p>
  </li>
</ol>

<h2 id="further-reading">Further Reading</h2>

<ul>
  <li>Billingsley, P. <em>Probability and Measure</em></li>
  <li>Ross, S. <em>A First Course in Probability</em></li>
  <li>Durrett, R. <em>Probability: Theory and Examples</em></li>
</ul>

<hr />

<p><em>Tags: probability, statistics, bayesian inference, stochastic processes</em></p>

                </div>

                <footer class="mt-12 pt-6 border-t border-zinc-200 dark:border-zinc-700 text-center">
                    <div class="space-y-4">
                        <div class="flex justify-center space-x-6">
                            <a href="/notes" class="inline-flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors font-serif">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                                </svg>
                                All Notes
                            </a>
                            <a href="/" class="inline-flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors font-serif">
                                Homepage
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                </svg>
                            </a>
                        </div>
                        
                        <!-- Related Notes -->
                        
                        
                        <div class="mt-8">
                            <h3 class="text-base font-semibold mb-4 text-zinc-900 dark:text-zinc-100 font-serif">Related Notes</h3>
                            <div class="grid gap-4 md:grid-cols-3">
                                
                                <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                                    <h4 class="font-medium text-zinc-900 dark:text-zinc-100 text-sm mb-2 font-serif">
                                        <a href="/notes/local-volatility-under-rough-volatility/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Local volatility under rough volatility</a>
                                    </h4>
                                    <p class="text-xs text-zinc-600 dark:text-zinc-400 mb-3 font-serif">Local volatility under rough volatility

Abstract
Several asymptotic results ...</p>
                                    <div class="flex flex-wrap gap-1">
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">rough volatility</span>
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">local volatility</span>
                                        
                                    </div>
                                </div>
                                
                                <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                                    <h4 class="font-medium text-zinc-900 dark:text-zinc-100 text-sm mb-2 font-serif">
                                        <a href="/notes/learning-simulate-limit-order-book-world-agent/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Learning to simulate realistic limit order book markets from data as a World Agent</a>
                                    </h4>
                                    <p class="text-xs text-zinc-600 dark:text-zinc-400 mb-3 font-serif">Learning to simulate realistic limit order book markets from data as a World ...</p>
                                    <div class="flex flex-wrap gap-1">
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">generative adversarial networks</span>
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">limit order book</span>
                                        
                                    </div>
                                </div>
                                
                                <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                                    <h4 class="font-medium text-zinc-900 dark:text-zinc-100 text-sm mb-2 font-serif">
                                        <a href="/notes/deep-reinforcement-learning-market-making/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Deep Reinforcement Learning for Market Making Under a Hawkes Process-Based Limit Order Book Model</a>
                                    </h4>
                                    <p class="text-xs text-zinc-600 dark:text-zinc-400 mb-3 font-serif">Deep Reinforcement Learning for Market Making Under a Hawkes Process-Based Li...</p>
                                    <div class="flex flex-wrap gap-1">
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">reinforcement learning</span>
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">market making</span>
                                        
                                    </div>
                                </div>
                                
                                <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                                    <h4 class="font-medium text-zinc-900 dark:text-zinc-100 text-sm mb-2 font-serif">
                                        <a href="/notes/asymmetric-information-realized-spread/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Asymmetric Information Modelling in the Realized Spread</a>
                                    </h4>
                                    <p class="text-xs text-zinc-600 dark:text-zinc-400 mb-3 font-serif">Asymmetric Information Modelling in the Realized Spread

Abstract
This paper ...</p>
                                    <div class="flex flex-wrap gap-1">
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">asymmetric information</span>
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">realized spread</span>
                                        
                                    </div>
                                </div>
                                
                                <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                                    <h4 class="font-medium text-zinc-900 dark:text-zinc-100 text-sm mb-2 font-serif">
                                        <a href="/notes/ring-theory/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Ring Theory</a>
                                    </h4>
                                    <p class="text-xs text-zinc-600 dark:text-zinc-400 mb-3 font-serif">Ring Theory

Ring theory is a fundamental area of abstract algebra that studi...</p>
                                    <div class="flex flex-wrap gap-1">
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">maths</span>
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">algebra</span>
                                        
                                    </div>
                                </div>
                                
                                <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                                    <h4 class="font-medium text-zinc-900 dark:text-zinc-100 text-sm mb-2 font-serif">
                                        <a href="/notes/financial-mathematics/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Financial Mathematics</a>
                                    </h4>
                                    <p class="text-xs text-zinc-600 dark:text-zinc-400 mb-3 font-serif"># Financial Mathematics

Financial mathematics applies mathematical methods t...</p>
                                    <div class="flex flex-wrap gap-1">
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">finance</span>
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">mathematics</span>
                                        
                                    </div>
                                </div>
                                
                                <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                                    <h4 class="font-medium text-zinc-900 dark:text-zinc-100 text-sm mb-2 font-serif">
                                        <a href="/notes/price-impact-order-flow/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Understanding Price Impact in Financial Markets: How Order Flow Imbalance Drives Stock Price Changes</a>
                                    </h4>
                                    <p class="text-xs text-zinc-600 dark:text-zinc-400 mb-3 font-serif"># Understanding Price Impact in Financial Markets: How Order Flow Imbalance D...</p>
                                    <div class="flex flex-wrap gap-1">
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">price-impact</span>
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">order-flow</span>
                                        
                                    </div>
                                </div>
                                
                                <div class="bg-zinc-50 dark:bg-zinc-800 rounded-lg p-4 hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors">
                                    <h4 class="font-medium text-zinc-900 dark:text-zinc-100 text-sm mb-2 font-serif">
                                        <a href="/notes/order-book-price-impact-analysis/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">The Price Impact of Order Book Events: A Comprehensive Analysis</a>
                                    </h4>
                                    <p class="text-xs text-zinc-600 dark:text-zinc-400 mb-3 font-serif"># The Price Impact of Order Book Events: A Comprehensive Analysis

## Abstrac...</p>
                                    <div class="flex flex-wrap gap-1">
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">order-book</span>
                                        
                                        <span class="px-2 py-0.5 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 rounded font-mono">price-impact</span>
                                        
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                        
                    </div>
                </footer>
            </article>
        </div>
    </div>
</div>

<script>
// Generate Table of Contents and add current position indicator
document.addEventListener('DOMContentLoaded', function() {
    const headings = document.querySelectorAll('.note-content h1, .note-content h2, .note-content h3, .note-content h4');
    const tocContainer = document.getElementById('toc');
    const tocMobileContainer = document.getElementById('toc-mobile');
    const mobileToggle = document.getElementById('mobile-toc-toggle');
    const mobileToc = document.getElementById('mobile-toc');
    const tocChevron = document.getElementById('toc-chevron');
    
    // Mobile TOC toggle functionality
    if (mobileToggle && mobileToc && tocChevron) {
        mobileToggle.addEventListener('click', function() {
            mobileToc.classList.toggle('hidden');
            tocChevron.classList.toggle('rotate-180');
        });
    }
    
    if (headings.length === 0) {
        if (tocContainer) tocContainer.innerHTML = '<p class="text-xs text-zinc-500 dark:text-zinc-400 font-serif">No headings found</p>';
        if (tocMobileContainer) tocMobileContainer.innerHTML = '<p class="text-xs text-zinc-500 dark:text-zinc-400 font-serif">No headings found</p>';
        return;
    }
    
    // Generate TOC HTML
    function generateTOC() {
        let tocHTML = '';
        headings.forEach((heading, index) => {
            // Add ID to heading if it doesn't have one
            if (!heading.id) {
                heading.id = `heading-${index}`;
            }
            
            // Determine indentation based on heading level
            const level = parseInt(heading.tagName.charAt(1));
            const indent = (level - 1) * 8;
            
            tocHTML += `
                <a href="#${heading.id}" 
                   class="toc-link block text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors py-1 px-2 rounded font-serif text-sm leading-snug"
                   style="margin-left: ${indent}px;"
                   data-heading-id="${heading.id}">
                    ${heading.textContent.trim()}
                </a>
            `;
        });
        return tocHTML;
    }
    
    const tocHTML = generateTOC();
    if (tocContainer) tocContainer.innerHTML = tocHTML;
    if (tocMobileContainer) tocMobileContainer.innerHTML = tocHTML;
    
    // Add scroll spy functionality
    const tocLinks = document.querySelectorAll('.toc-link');
    const headingElements = document.querySelectorAll('.note-content h1, .note-content h2, .note-content h3, .note-content h4');
    
    // Function to update active TOC item
    function updateActiveTOC() {
        let current = '';
        
        headingElements.forEach((heading) => {
            const rect = heading.getBoundingClientRect();
            if (rect.top <= 120) {
                current = heading.id;
            }
        });
        
        // Remove active class from all links
        tocLinks.forEach(link => {
            link.classList.remove('text-blue-600', 'dark:text-blue-400', 'font-semibold', 'bg-blue-50', 'dark:bg-blue-900/20');
            link.classList.add('text-zinc-600', 'dark:text-zinc-400');
        });
        
        // Add active class to current link
        if (current) {
            const activeLinks = document.querySelectorAll(`[data-heading-id="${current}"]`);
            activeLinks.forEach(activeLink => {
                activeLink.classList.remove('text-zinc-600', 'dark:text-zinc-400');
                activeLink.classList.add('text-blue-600', 'dark:text-blue-400', 'font-semibold', 'bg-blue-50', 'dark:bg-blue-900/20');
            });
        }
    }
    
    // Listen for scroll events
    window.addEventListener('scroll', updateActiveTOC);
    
    // Initial call
    updateActiveTOC();
    
    // Smooth scrolling for TOC links
    tocLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            
            if (targetElement) {
                // Close mobile TOC on click
                if (mobileToc && !mobileToc.classList.contains('hidden')) {
                    mobileToc.classList.add('hidden');
                    tocChevron.classList.remove('rotate-180');
                }
                
                // Smooth scroll with offset for fixed headers
                const offsetTop = targetElement.offsetTop - 80;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });
});
</script>



    
    <script>
    // Global theme management - unified system
    window.themeManager = {
        // Initialize theme on page load
        init: function() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            // Determine which theme to use
            let shouldUseDark;
            if (savedTheme) {
                shouldUseDark = savedTheme === 'dark';
            } else {
                shouldUseDark = prefersDark;
            }
            
            if (shouldUseDark) {
                this.setDark();
            } else {
                this.setLight();
            }
        },
        
        // Set dark theme
        setDark: function() {
            document.documentElement.classList.add('dark');
            localStorage.setItem('theme', 'dark');
            this.updateIcons(true);
        },
        
        // Set light theme  
        setLight: function() {
            document.documentElement.classList.remove('dark');
            localStorage.setItem('theme', 'light');
            this.updateIcons(false);
        },
        
        // Toggle between themes
        toggle: function() {
            if (document.documentElement.classList.contains('dark')) {
                this.setLight();
            } else {
                this.setDark();
            }
        },
        
        // Update icon visibility
        updateIcons: function(isDark) {
            const sunIcon = document.getElementById('sidebar-sun-icon');
            const moonIcon = document.getElementById('sidebar-moon-icon');
            
            if (sunIcon && moonIcon) {
                if (isDark) {
                    // In dark mode, show sun icon (to switch to light)
                    sunIcon.classList.remove('hidden');
                    sunIcon.classList.add('block');
                    moonIcon.classList.add('hidden');
                    moonIcon.classList.remove('block');
                } else {
                    // In light mode, show moon icon (to switch to dark)
                    sunIcon.classList.add('hidden');
                    sunIcon.classList.remove('block');
                    moonIcon.classList.remove('hidden');
                    moonIcon.classList.add('block');
                }
            }
        }
    };

    // Initialize theme and setup toggle on DOM ready
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize theme
        window.themeManager.init();
        
        // Setup theme toggle button if it exists on this page
        const sidebarThemeToggle = document.getElementById('sidebar-theme-toggle');
        if (sidebarThemeToggle) {
            sidebarThemeToggle.addEventListener('click', function(e) {
                e.preventDefault();
                window.themeManager.toggle();
            });
        }
        
        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
            // Only auto-switch if user hasn't set a preference
            if (!localStorage.getItem('theme')) {
                window.themeManager.init();
            }
        });
    });

    // Tab functionality
    function showTab(tabName) {
        // Hide all tab contents
        const tabContents = document.querySelectorAll('.tab-content');
        tabContents.forEach(content => {
            content.classList.add('hidden');
            content.classList.remove('opacity-0', 'transform');
        });
        
        // Remove active class from all buttons
        const tabButtons = document.querySelectorAll('.tab-button');
        tabButtons.forEach(button => {
            button.classList.remove('active');
            button.classList.remove('!font-bold', '!text-neutral-800', 'dark:!text-neutral-100');
            button.classList.add('!font-light', '!text-neutral-400', 'dark:!text-neutral-400');
        });
        
        // Show selected tab content
        const selectedContent = document.getElementById(`content-${tabName}`);
        if (selectedContent) {
            selectedContent.classList.remove('hidden');
            
            // Add active class to selected button
            const selectedButton = document.getElementById(`tab-${tabName}`);
            if (selectedButton) {
                selectedButton.classList.add('active');
                selectedButton.classList.remove('!font-light', '!text-neutral-400', 'dark:!text-neutral-400');
                selectedButton.classList.add('!font-bold', '!text-neutral-800', 'dark:!text-neutral-100');
            }
            
            // Trigger animations for the new content
            setTimeout(() => {
                selectedContent.classList.add('opacity-0', 'transform');
                selectedContent.classList.add('animate-fade-in');
                
                // Animate list items if they exist
                const listItems = selectedContent.querySelectorAll('li, .space-y-6 > div');
                listItems.forEach((item, index) => {
                    item.classList.add('opacity-0', 'transform-x');
                    item.classList.add('animate-slide-left');
                    item.style.animationDelay = `${(index + 1) * 0.1}s`;
                });
            }, 10);
        }
    }

    // User System Detection
    function detectUserSystem() {
        const userAgent = navigator.userAgent;
        let os = 'Unknown OS';
        let browser = 'Unknown Browser';
        
        // Detect OS
        if (userAgent.indexOf('Win') !== -1) os = 'Windows';
        else if (userAgent.indexOf('Mac') !== -1) os = 'macOS';
        else if (userAgent.indexOf('Linux') !== -1) os = 'Linux';
        else if (userAgent.indexOf('Android') !== -1) os = 'Android';
        else if (userAgent.indexOf('iPhone') !== -1 || userAgent.indexOf('iPad') !== -1) os = 'iOS';
        
        // Detect Browser
        if (userAgent.indexOf('Chrome') !== -1 && userAgent.indexOf('Edg') === -1) browser = 'Chrome';
        else if (userAgent.indexOf('Firefox') !== -1) browser = 'Firefox';
        else if (userAgent.indexOf('Safari') !== -1 && userAgent.indexOf('Chrome') === -1) browser = 'Safari';
        else if (userAgent.indexOf('Edg') !== -1) browser = 'Edge';
        else if (userAgent.indexOf('Opera') !== -1) browser = 'Opera';
        
        // Get screen resolution
        const screenRes = `${screen.width}x${screen.height}`;
        
        // Get timezone
        const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        
        return ` ${os} • ${browser} • ${screenRes} • ${timezone}`;
    }

    // User Location Detection (disabled to avoid external request)
    async function detectUserLocation() {
        return '';
    }
    
    // Combined user info function
    async function updateUserInfo() {
        const systemInfo = detectUserSystem();
        const locationInfo = await detectUserLocation();
        const line = locationInfo ? `${systemInfo} • ${locationInfo}` : systemInfo;
        const userInfoElement = document.getElementById('user-info');
        if (userInfoElement) {
            userInfoElement.textContent = line;
        }
    }

    // IST Clock functionality
    function updateISTClock() {
        const now = new Date();
        const istTime = new Date(now.toLocaleString("en-US", {timeZone: "Asia/Kolkata"}));
        
        const timeString = istTime.toLocaleTimeString('en-US', {
            hour12: true,
            hour: 'numeric',
            minute: '2-digit',
            second: '2-digit'
        });
        
        const dayString = istTime.toLocaleDateString('en-US', {
            weekday: 'short',
            day: 'numeric',
            month: 'short'
        });
        
        const clockElement = document.getElementById('ist-clock');
        const mobileClockElement = document.getElementById('ist-clock-mobile');
        
        if (clockElement) {
            clockElement.textContent = `${dayString}, ${timeString} IST`;
        }
        
        if (mobileClockElement) {
            mobileClockElement.textContent = `${dayString}, ${timeString} IST`;
        }
    }

    // Service Worker Registration for caching
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('/assets/sw.js')
                .then(registration => {
                    console.log('SW registered: ', registration);
                })
                .catch(registrationError => {
                    console.log('SW registration failed: ', registrationError);
                });
        });
    }

    // Performance monitoring
    if ('performance' in window) {
        window.addEventListener('load', () => {
            setTimeout(() => {
                const perfData = performance.getEntriesByType('navigation')[0];
                console.log('Page Load Time:', perfData.loadEventEnd - perfData.loadEventStart, 'ms');
                console.log('DOM Content Loaded:', perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart, 'ms');
            }, 0);
        });
    }

    // Initialize animations when page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Use requestIdleCallback for non-critical animations
        if ('requestIdleCallback' in window) {
            requestIdleCallback(() => {
                // Trigger all initial animations
                const animatedElements = document.querySelectorAll('.opacity-0');
                animatedElements.forEach(el => {
                    el.classList.remove('opacity-0');
                    if (el.classList.contains('transform')) {
                        el.classList.remove('transform');
                    }
                    if (el.classList.contains('transform-x')) {
                        el.classList.remove('transform-x');
                    }
                });
            });
        } else {
            // Fallback for browsers without requestIdleCallback
            setTimeout(() => {
                const animatedElements = document.querySelectorAll('.opacity-0');
                animatedElements.forEach(el => {
                    el.classList.remove('opacity-0');
                    if (el.classList.contains('transform')) {
                        el.classList.remove('transform');
                    }
                    if (el.classList.contains('transform-x')) {
                        el.classList.remove('transform-x');
                    }
                });
            }, 100);
        }
        
        // Set initial active tab
        showTab('projects');
        
        // Initialize and start the IST clock
        updateISTClock();
        setInterval(updateISTClock, 1000);
        
        // Initialize user system and location detection with delay
        setTimeout(updateUserInfo, 2000);
    });

    // Notes filtering functionality
    function filterNotes(tag) {
        // Update active tag button
        document.querySelectorAll('.note-tag').forEach(btn => {
            btn.classList.remove('active', 'bg-blue-500', 'text-white', 'dark:bg-blue-400', 'dark:text-white');
            btn.classList.add('bg-zinc-200', 'dark:bg-zinc-700', 'text-zinc-700', 'dark:text-zinc-300');
        });
        
        // Highlight active button
        const activeButton = event.target;
        activeButton.classList.remove('bg-zinc-200', 'dark:bg-zinc-700', 'text-zinc-700', 'dark:text-zinc-300');
        activeButton.classList.add('active', 'bg-blue-500', 'text-white', 'dark:bg-blue-400', 'dark:text-white');
        
        // Filter note items
        const noteItems = document.querySelectorAll('.note-item');
        noteItems.forEach(item => {
            const itemTags = item.getAttribute('data-tags').split(',');
            if (tag === 'all' || itemTags.includes(tag)) {
                item.style.display = 'block';
                item.style.opacity = '1';
            } else {
                item.style.display = 'none';
                item.style.opacity = '0';
            }
        });
    }

    // Mobile menu functionality
    const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
    const leftSidebar = document.getElementById('left-sidebar');
    const mobileOverlay = document.getElementById('mobile-overlay');
    
    function toggleMobileMenu() {
        if (leftSidebar && mobileOverlay) {
            leftSidebar.classList.toggle('mobile-open');
            mobileOverlay.classList.toggle('active');
            
            // Prevent body scroll when menu is open
            if (leftSidebar.classList.contains('mobile-open')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }
    }
    
    function closeMobileMenu() {
        if (leftSidebar && mobileOverlay) {
            leftSidebar.classList.remove('mobile-open');
            mobileOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }
    }
    
    // Event listeners
    if (mobileMenuToggle) {
        mobileMenuToggle.addEventListener('click', toggleMobileMenu);
    }
    
    if (mobileOverlay) {
        mobileOverlay.addEventListener('click', closeMobileMenu);
    }
    
    // Close menu on escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && leftSidebar && leftSidebar.classList.contains('mobile-open')) {
            closeMobileMenu();
        }
    });
    
    // Close menu on window resize (if switching to desktop)
    window.addEventListener('resize', function() {
        if (window.innerWidth > 1023 && leftSidebar && leftSidebar.classList.contains('mobile-open')) {
            closeMobileMenu();
        }
    });
    
    // Touch gesture support for mobile
    let touchStartX = 0;
    let touchEndX = 0;
    
    document.addEventListener('touchstart', function(e) {
        touchStartX = e.changedTouches[0].screenX;
    });
    
    document.addEventListener('touchend', function(e) {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
    });
    
    function handleSwipe() {
        const swipeThreshold = 50;
        const swipeDistance = touchEndX - touchStartX;
        
        // Swipe right to open menu
        if (swipeDistance > swipeThreshold && touchStartX < 50) {
            if (leftSidebar && !leftSidebar.classList.contains('mobile-open')) {
                toggleMobileMenu();
            }
        }
        
        // Swipe left to close menu
        if (swipeDistance < -swipeThreshold && leftSidebar && leftSidebar.classList.contains('mobile-open')) {
            closeMobileMenu();
        }
    }
    
    // Improve mobile navigation behavior
    // Add click outside to close functionality
    document.addEventListener('click', function(event) {
        const isClickInsideLeftSidebar = leftSidebar.contains(event.target);
        const isClickOnToggle = mobileMenuToggle.contains(event.target);
        
        if (!isClickInsideLeftSidebar &&
            !isClickOnToggle &&
            leftSidebar.classList.contains('mobile-open') &&
            window.innerWidth <= 1023) {
            closeMobileMenu();
        }
    });
    
    // Improve mobile experience by hiding right sidebar on small screens
    function adjustLayoutForMobile() {
        if (window.innerWidth <= 768) {
            // Ensure proper layout for mobile
            const rightSidebar = document.querySelector('.w-72.flex-shrink-0.sticky.top-4.h-\\[calc\\(100vh-2rem\\)\\].overflow-y-auto');
            if (rightSidebar) {
                rightSidebar.style.display = 'block'; // Show on mobile in single column
            }
        }
    }
    
    // Run on initial load and on resize
    window.addEventListener('load', adjustLayoutForMobile);
    window.addEventListener('resize', adjustLayoutForMobile);

    // Smooth scrolling for any anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
</script>

</body>
</html>
